<% content_for :title, "Modifier maison d’édition" %>

<div class="container py-5 mt-5" style="max-width: 720px;">
  <h1 class="text-center mb-4 fw-bold text-black">✏️ Modifier la maison d’édition</h1>

  <%= form_with model: @publishing_house, local: true, class: "bg-white p-4 rounded-4 shadow-sm" do |form| %>
    <!-- Nom -->
    <div class="mb-4">
      <%= form.label :name, "Nom", class: "form-label fw-semibold" %>
      <%= form.text_field :name, class: "form-control rounded-pill px-4 py-2", required: true %>
    </div>

    <!-- Description -->
    <div class="mb-4">
      <%= form.label :description, "Description", class: "form-label fw-semibold" %>
      <%= form.text_area :description, rows: 5, placeholder: "Décrivez cette maison d’édition...", class: "form-control rounded-4 px-3 py-2" %>
    </div>

    <!-- Logo -->
    <div class="mb-4">
      <%= form.label :logo, "Logo (facultatif)", class: "form-label fw-semibold" %>
      <%= form.file_field :logo, class: "form-control" %>

      <% if @publishing_house.logo.attached? %>
        <div class="mt-3">
          <p class="form-text">Logo actuel :</p>
          <%= image_tag @publishing_house.logo.variant(resize_to_limit: [200, 200]), class: "img-thumbnail rounded" %>
        </div>
      <% end %>
    </div>

    <!-- Bouton -->
    <div class="text-center mt-4">
      <%= form.submit "Mettre à jour", class: "btn btn-dark rounded-pill px-4 py-2 fw-bold text-uppercase" %>
    </div>
  <% end %>

  <div class="text-center mt-4">
    <%= link_to "← Retour", publishing_house_path(@publishing_house), class: "btn btn-outline-secondary rounded-pill px-4 py-2" %>
  </div>
</div>
