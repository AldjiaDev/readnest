<% content_for :title, "Toutes les chroniques" %>

<div class="container pt-5 mt-4">
  <h1 class="text-center mb-5 fw-bold" style="color: #5e4636;">Toutes les chroniques</h1>

  <% if @chronicles.empty? %>
    <div class="text-center text-muted">
      <p>Aucune chronique disponible pour le moment.</p>
    </div>
  <% end %>

  <div class="row">
    <% @chronicles.each do |chronicle| %>
      <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm">
          <% if chronicle.photo.attached? %>
            <%= image_tag chronicle.photo, class: "card-img-top", style: "height: 200px; object-fit: cover;" %>
          <% end %>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title fw-bold"><%= truncate(chronicle.title, length: 60) %></h5>
            <p class="card-text text-muted mb-2">
              <small>par <%= chronicle.user.username %></small>
            </p>
            <p class="card-text"><%= truncate(chronicle.content, length: 100) %></p>
            <div class="mt-auto">
              <%= link_to "Lire la suite", chronicle_path(chronicle), class: "btn custom-brown-btn btn-sm w-100 mt-3" %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
